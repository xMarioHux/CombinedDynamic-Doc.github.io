# 复合动力Alpha0.6.0更新日志
[<返回](./index.md)

## 基础信息

**附加包版本：Alpha0.6.0**

**适配游戏版本：1.20.8x**

基础不牢，地动山摇！在这次更新中，我们~~又一次~~重新编写了底层逻辑~~你很自豪吗~~，并为您带来了以**蒸汽锅炉**生产的**蒸汽**为动力的一系列蒸汽机器！这些机器将作为整个模组的初期机器，并且向您展示它们的魅力：很朴实，但足够基础，并且便宜！

## 机器
+ ### 锻压台
  >*它真的可以被称为“机器”吗？*
  + 由铁合成。
  + 与**铁锤**配合将粗矿粉碎，或是将金属锭打成板！
+ ### 青铜蒸汽锅炉
  >*蒸汽机，但是蒸汽与机分离了？*
  + 由**熔炉**、**平滑石**与**青铜板**合成。
  + 投入**燃料[^1]**和水，收获**蒸汽**！
+ ### 青铜水泵
  >*确实是进水了。*
  + 由**青铜外壳**、**蒸汽活塞**与**流体管道**合成。
  + 消耗**蒸汽**，从四面抽水。
  + 四周的水源方块越多，效率越高！
+ ### 青铜粉碎机
  >*打粉还是研磨？都一样啦。*
  + 由**青铜外壳**、**蒸汽活塞**与**青铜块**合成。
  + 消耗**蒸汽**，将矿物粉碎。
## 物品
+ ### 矿物粉末
  添加了煤粉、木炭粉、粗铜粉、粗铁粉、粗锡粉、粗金粉、粗青铜粉与生精铁粉。
+ ### 金属粉末
  添加了铜粉、铁粉、青铜粉、精铁粉、金粉与钢粉。
+ ### 青铜
  添加了青铜锭与青铜块。
+ ### 零部件们
  添加了铜、铁、青铜、精铁、钢的板、双层板、齿轮、零件、螺丝、刀片与转子。
+ ### 耐火黏土
  添加了黏土粉、下界岩粉、耐火黏土粉、耐火黏土球、耐火砖、砂浆与耐火砖块。
+ ### 焦炭与副产物
  添加了焦炭、焦炭粉与流体单元-煤焦油。
+ ### 蒸汽
  添加了加压储罐-蒸汽。
## 游戏特性
现已将一部分尚未完善的或未来可能不再支持的内容移出创造背包，仅可通过`/give`命令获取并随时有可能删除。
## 技术性
+ ### 脚本
  现已重构脚本内容。
+ ### 自定义游戏内容
  想要自定义您的游戏体验吗？我们为您提供了部分解决方案。尽管它们可能不够完美，但起码有用......
  #### 内置tag
  这些tag可以为您的物品添加一些简单的功能。
  + `combined_dynamic:is_wrench`

    定义该物品为扳手，功能与铁扳手相同。

  #### tag组件
  这些长得很奇怪的tag是我们为您准备的，可以将您的自定义物品兼容至我们的机器运作逻辑内的方法，我们将其称为“tag组件”。

  注意您应当将它们按格式写进自定义物品的`minecraft:tags`组件内，组件名和每个参数之间用`;`隔开。
  + `combined_dynamic:pressable;<result>;<amount?>`

    定义该物品为可以锻压的物品，即可以在锻压台上将物品锻压或者粉碎。
  
    | 参数 | 类型 | 描述 |
    | ---   | ---  | :---:  |
    | result | string | 锻压结果物品的标识符 |
    | amount?[^2] | number | 结果数量，默认为1 |

    示例：将青铜锭锻压为青铜板
    ```
    //items/bronze_ingot.json
    ...
    "minecraft:tags": {
      "tags": [
        "combined_dynamic:pressable;combined_dynamic:bronze_plate"
      ]
    },
    ...
    ```

  + `combined_dynamic:fuel;<time>`

    定义该物品为可以供机器使用的燃料，如在青铜蒸汽锅炉中燃烧。

    | 参数 | 类型 | 描述 |
    | ---   | ---  | :---:  |
    | time | number | 可供燃烧的时间，按`tick`[^3]计算 |

  #### 脚本事件
  您可以使用游戏提供的`/scriptevent`命令向脚本层发送事件，而我们内置了一些事件可以让您更深度地自定义游戏内容。

  + `combined_dynamic:recipe_register`

    注册自定义机器配方，或者使用新的配方取代原来的配方。

    基本配方格式如下：

    | 参数 | 类型 | 描述 |
    | ---   | ---  | :---:  |
    | identifer | string | 配方标识符，若需要替换配方，请使用与您想要替换的配方相同的标识符 |
    | time | number | 配方进行的时间，按`tick`[^3]计算 |
    | tags | Array\<string> | 配方tag，该配方可用于使用对应tag的机器 |
    | priority | number | 配方优先级，在出现多个标识符相同的配方时，将采用优先级最高的配方 |
    | ingredients | Array\<ItemIngredient \| TagIngredient \| Array\<ItemIngredient \| TagIngredient>> | 配方原料 |
    | results | Array\<ItemResult> | 配方结果 |

    其中ItemIngredient，TagIngredient与ItemResult的格式请查看文档。
    部分机器配方可能带有更多参数，详细请查看对应文档。
    下面是一个粉碎机配方示例。
    ```
    {
        "identifer": "combined_dynamic:raw_copper_dust",
        "tags": ["bronze_macerator"],
        "priority": 0,
        "time": 140,
        "ingredients": [
            {
                "item": "minecraft:raw_copper"
            }
        ],
        "results": [
            {
                "item": "combined_dynamic:raw_copper_dust",
                "amount": 2
            }
        ]
    }
    ```

[^1]:目前版本中，“燃料”仅限于煤炭、木炭、煤炭块以及含有`combined_dynamic:fuel`组件的物品
[^2]:带有`?`的参数可以不填，解析时取默认值
[^3]:tick指游戏刻，1s=20tick